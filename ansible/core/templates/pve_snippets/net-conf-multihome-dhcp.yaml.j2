#cloud-config
version: 2
renderer: networkd
ethernets:
# These device IDs are hardcoded which kind of stinks
  enp6s18:
    dhcp4: true
    dhcp6: true
    routes:
      - to: '10.10.10.0/24'
        from: '10.10.10.0/24'
      - to: default
        via: '10.10.10.1'
        table: 1
      - to: '10.10.10.0/24'
        table: 1
    routing-policy:
      - from: '10.10.10.0/24'
        table: 1
  enp6s19:
    dhcp4: true
    dhcp6: true
    routes:
      - to: '192.168.50.0/24'
        from: '192.168.50.0/24'
      - to: default
        via: '192.168.50.1'
        table: 2
      - to: '192.168.50.0/24'
        table: 2
    routing-policy:
      - from: '192.168.50.0/24'
        table: 2
